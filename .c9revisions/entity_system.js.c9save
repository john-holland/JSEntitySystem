{"ts":1344349992471,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"\r\nvar NextFreeId = 0;\r\n\r\n/*\r\nThe component metadata collection.\r\nkeyed on the componentName, toLowered\r\nComponent[\"name\"] =    {\r\n    ComponentName : \"name\",\r\n\tMethods : {\r\n\t\tAssigned : method,\r\n\t\tRemoved : method,\r\n\t\tUpdate : method,\r\n\t\tRender : method\r\n\t},\r\n\tRequiredComponents : array of strings,\r\n\tRequiredData : array of data names\r\n}\r\n*/\r\nvar Components = {\r\n};\r\n\r\n/*\r\n  Datas is a \r\n*/\r\nvar Datas = {\r\n};\r\n\r\nvar Entities = {\r\n};\r\n\r\nfunction Component(assigned, removed, update, render) {\r\n\tthis.Assigned = assigned;\r\n\tthis.Removed = removed;\r\n\tthis.Update = update;\r\n\tthis.Render = render;\r\n}\r\n\r\nfunction RegisterComponent(componentName, component, requiredComponents, requiredData) {\r\n\tComponents[componentName] = {\r\n\t\tComponentName : componentName,\r\n\t\tMethods : component,\r\n\t\tRequiredComponents : requiredComponents,\r\n\t\tRequiredData : requiredData\r\n\t};\r\n}\r\n\r\nfunction AddComponent(entity, componentName) {\r\n\tvar component = Components[componentName];\r\n\tvar requiredData = component.RequiredData;\r\n\tvar requiredComponents = component.RequiredComponent;\r\n\t\r\n\tif (!(componentName in entity.Components)) {\r\n\t\tentity.Components[componentName] = Components[componentName];\r\n\t\tentity.UpdateComponents.push(Components[componentName]);\r\n\t}\r\n\t\r\n\tfor (var key in component.RequiredComponents) {\r\n\t\tif (!(key in entity.Components)) {\r\n\t\t\tAddComponent(entity, key);\r\n\t\t}\r\n\t}\r\n\t\r\n\tfor (var key in component.RequiredData) {\r\n\t\tif (!(key in entity.Datas)) {\r\n\t\t\tentity.Datas[key] = component.RequiredData[key];\r\n\t\t}\r\n\t}\r\n}\r\n\r\nRegisterComponent('TestComponent',\r\n\tComponent(\r\n            function(entity, gameTime) {\r\n                //assigned\r\n\t\t\t\t},\r\n\t\t\tfunction(entity, gameTime) {\r\n                //removed\r\n\t\t\t\t},\r\n\t\t\tfunction(entity, gameTime) {\r\n                //update\r\n\t\t\t\t},\r\n\t\t\tfunction(entity, gameTime) {\r\n                //render\r\n\t\t\t}),\r\n\t\t\tnew Array(),\r\n            new Array());\r\n\r\nfunction Entity() {\r\n\tvar self = this;\r\n\tNextFreeId = NextFreeId + 1;\r\n\tthis.Id = NextFreeId;\r\n\tthis.Datas = {\r\n\t};\r\n\tthis.Components = {\r\n\t};\r\n    \r\n\tthis.UpdateComponents = new Array();\r\n\t\r\n    this.AddComponent = function(componentName) {\r\n\t\tif (!(componentName in this.components)) {\r\n\t\t\t//recursively add components here.\r\n\t\t\t//make sure to add each components required data here as well.\r\n\t\t\tAddComponent(componentName);\r\n\t\t}\r\n\t};\r\n    \r\n    this.RemoveComponent = function(componentName) {\r\n        if (componentName in this.components) {\r\n            \r\n        }\r\n    };\r\n\t\r\n\tthis.Update = function(gameTime) {\r\n\t\tvar i = 0;\r\n\t\tfor (i = 0; i < this.UpdateComponents.length; i++) {\r\n\t\t\tthis.UpdateComponents[i].Update(gameTime, self);\r\n\t\t}\r\n\t};\r\n\t\r\n\tEntities[this.Id] = this;\r\n}\r\n\r\nvar ent = new Entity();\r\nalert(ent.test);\r\nalert(Entities[ent.Id].test);"]],"start1":0,"start2":0,"length1":0,"length2":2755}]],"length":2755}
{"contributors":[],"silentsave":true,"ts":1344377344766,"patch":[[{"diffs":[[0,"ay());\r\n"],[1,"d"],[0,"\r\nfuncti"]],"start1":1884,"start2":1884,"length1":16,"length2":17}]],"length":2756,"saved":false}
{"ts":1344377345993,"patch":[[{"diffs":[[0,"ay());\r\n"],[-1,"d"],[0,"\r\nfuncti"]],"start1":1884,"start2":1884,"length1":17,"length2":16}]],"length":2755,"saved":false}
{"ts":1344377352035,"patch":[[{"diffs":[[0,"ent',\r\n\t"],[1,"new "],[0,"Componen"]],"start1":1548,"start2":1548,"length1":16,"length2":20}]],"length":2759,"saved":false}
{"ts":1344377495413,"patch":[[{"diffs":[[0,"mponent("],[-1,"\r\n "],[0,"        "]],"start1":1562,"start2":1562,"length1":19,"length2":16}]],"length":2756,"saved":false}
{"ts":1344377496745,"patch":[[{"diffs":[[0,"mponent("],[-1,"           "],[0,"function"]],"start1":1562,"start2":1562,"length1":27,"length2":16}]],"length":2745,"saved":false}
{"ts":1344377501227,"patch":[[{"diffs":[[0,"        "],[1,"    "],[0,"//assign"]],"start1":1608,"start2":1608,"length1":16,"length2":20},{"diffs":[[0,"//assigned\r\n"],[1,"    "],[0,"\t\t\t\t},\r\n"],[1,"    "],[0,"\t\t\tfunction("]],"start1":1620,"start2":1620,"length1":32,"length2":40},{"diffs":[[0,"            "],[1,"    "],[0,"//removed\r\n\t"]],"start1":1685,"start2":1685,"length1":24,"length2":28},{"diffs":[[0,"emoved\r\n"],[1,"    "],[0,"\t\t\t\t},\r\n"],[1,"    "],[0,"\t\t\tfunct"]],"start1":1704,"start2":1704,"length1":24,"length2":32},{"diffs":[[0,"        "],[1,"    "],[0,"//update"]],"start1":1769,"start2":1769,"length1":16,"length2":20},{"diffs":[[0,"update\r\n"],[1,"    "],[0,"\t\t\t\t},\r\n"],[1,"    "],[0,"\t\t\tfunct"]],"start1":1783,"start2":1783,"length1":24,"length2":32},{"diffs":[[0,"            "],[1,"    "],[0,"//render\r\n\t\t"]],"start1":1844,"start2":1844,"length1":24,"length2":28},{"diffs":[[0,"render\r\n"],[1,"    "],[0,"\t\t\t}),\r\n"]],"start1":1862,"start2":1862,"length1":16,"length2":20}]],"length":2789,"saved":false}
{"ts":1344377502088,"patch":[[{"diffs":[[0,"        "],[1,"    "],[0,"//assign"]],"start1":1612,"start2":1612,"length1":16,"length2":20},{"diffs":[[0,"//assigned\r\n    "],[1,"  "],[1,"  "],[0,"\t\t\t\t},\r\n    \t\t\tf"]],"start1":1624,"start2":1624,"length1":32,"length2":36},{"diffs":[[0,"    \t\t\t\t},\r\n    "],[1,"   "],[1," "],[0,"\t\t\tfunction(enti"]],"start1":1640,"start2":1640,"length1":32,"length2":36},{"diffs":[[0,"            "],[1,"    "],[0,"//removed\r\n "]],"start1":1701,"start2":1701,"length1":24,"length2":28},{"diffs":[[0,"emoved\r\n    "],[1," "],[1,"   "],[0,"\t\t\t\t},\r\n    "]],"start1":1720,"start2":1720,"length1":24,"length2":28},{"diffs":[[0,"    \t\t\t\t},\r\n    "],[1,"  "],[1,"  "],[0,"\t\t\tfunction(enti"]],"start1":1732,"start2":1732,"length1":32,"length2":36},{"diffs":[[0,"        "],[1,"    "],[0,"//update"]],"start1":1797,"start2":1797,"length1":16,"length2":20},{"diffs":[[0,"update\r\n    "],[1," "],[1,"   "],[0,"\t\t\t\t},\r\n    "]],"start1":1811,"start2":1811,"length1":24,"length2":28},{"diffs":[[0,"\t\t\t\t},\r\n    "],[1," "],[1,"   "],[0,"\t\t\tfunction("]],"start1":1827,"start2":1827,"length1":24,"length2":28},{"diffs":[[0,"            "],[1,"    "],[0,"//render\r\n  "]],"start1":1884,"start2":1884,"length1":24,"length2":28},{"diffs":[[0,"render\r\n"],[1,"    "],[0,"    \t\t\t}"]],"start1":1902,"start2":1902,"length1":16,"length2":20}]],"length":2833,"saved":false}
{"ts":1344377520505,"patch":[[{"diffs":[[0,"}),\r\n\t\t\t"],[-1,"new Array()"],[1,"p["],[0,",\r\n     "]],"start1":1921,"start2":1921,"length1":27,"length2":18}]],"length":2824,"saved":false}
{"ts":1344377521683,"patch":[[{"diffs":[[0,"\n\t\t\t"],[-1,"p"],[0,"["],[1,"]"],[0,",\r\n "]],"start1":1925,"start2":1925,"length1":10,"length2":10}]],"length":2824,"saved":false}
{"ts":1344377526379,"patch":[[{"diffs":[[0,"        "],[-1,"new Array()"],[1,"[]"],[0,");\r\n\r\nfu"]],"start1":1938,"start2":1938,"length1":27,"length2":18}]],"length":2815,"saved":false}
{"ts":1344377548156,"patch":[[{"diffs":[[0,"),\r\n"],[-1,"\t\t"],[0,"\t[],\r\n"],[-1,"        "],[0,"    "]],"start1":1922,"start2":1922,"length1":24,"length2":14}]],"length":2805,"saved":false}
{"contributors":[],"silentsave":true,"ts":1344523641956,"patch":[[{"diffs":[[0,"\r\n"],[-1,"var NextFreeId = 0;\r\n\r\n/*\r\n"],[1,"function JSEntitySystem() {\r\n    this.NextFreeId = 0;\r\n    var engine = this;\r\n    /*\r\n    "],[0,"The "]],"start1":0,"start2":0,"length1":33,"length2":97},{"diffs":[[0,"ction.\r\n"],[1,"    "],[0,"keyed on"]],"start1":121,"start2":121,"length1":16,"length2":20},{"diffs":[[0,"owered\r\n"],[1,"    "],[0,"Componen"]],"start1":164,"start2":164,"length1":16,"length2":20},{"diffs":[[0,"=    {\r\n    "],[1,"   "],[1," "],[0,"ComponentNam"]],"start1":194,"start2":194,"length1":24,"length2":28},{"diffs":[[0,"name\",\r\n"],[1,"    "],[0,"\tMethods"]],"start1":227,"start2":227,"length1":16,"length2":20},{"diffs":[[0,"ds : {\r\n"],[1,"    "],[0,"\t\tAssign"]],"start1":245,"start2":245,"length1":16,"length2":20},{"diffs":[[0," : method,\r\n"],[1,"    "],[0,"\t\tRemoved : "]],"start1":267,"start2":267,"length1":24,"length2":28},{"diffs":[[0,"ethod,\r\n"],[1,"    "],[0,"\t\tUpdate"]],"start1":296,"start2":296,"length1":16,"length2":20},{"diffs":[[0,"ethod,\r\n"],[1,"    "],[0,"\t\tRender"]],"start1":320,"start2":320,"length1":16,"length2":20},{"diffs":[[0,"method\r\n"],[1,"    "],[0,"\t},\r\n"],[1,"    "],[0,"\tRequire"]],"start1":343,"start2":343,"length1":21,"length2":29},{"diffs":[[0,"rings,\r\n"],[1,"    "],[0,"\tRequire"]],"start1":397,"start2":397,"length1":16,"length2":20},{"diffs":[[0,"es\r\n"],[-1,"}\r\n*/\r\nvar "],[1,"    }\r\n    */\r\n    this."],[0,"Comp"]],"start1":442,"start2":442,"length1":19,"length2":32},{"diffs":[[0," = {"],[-1,"\r\n"],[1," "],[0,"};\r\n"],[-1,"\r\n/*\r\n  Datas is a \r\n*/\r\nvar Datas = {\r\n};\r\n\r\nvar "],[1,"    \r\n    /*\r\n      Datas is an associative object for holding data.\r\n    */\r\n    this.Datas = { };\r\n    \r\n    /*\r\n      Entities is an associative object for holding entities.\r\n    */\r\n    this."],[0,"Enti"]],"start1":480,"start2":480,"length1":64,"length2":208},{"diffs":[[0," = {"],[-1,"\r\n"],[1," "],[0,"};\r\n"],[-1,"\r\nfunction Component"],[1,"    \r\n    /*\r\n      EntityUpdateList is an array used to update the entities for the engine.\r\n    */    \r\n    this.EntityUpdateList = [];\r\n    \r\n    this.Component = function"],[0,"(ass"]],"start1":692,"start2":692,"length1":34,"length2":187},{"diffs":[[0,"der) {\r\n"],[1,"    "],[0,"\tthis.As"]],"start1":906,"start2":906,"length1":16,"length2":20},{"diffs":[[0," assigned;\r\n"],[1,"    "],[0,"\tthis.Remove"]],"start1":934,"start2":934,"length1":24,"length2":28},{"diffs":[[0,"= removed;\r\n"],[1,"    "],[0,"\tthis.Update"]],"start1":964,"start2":964,"length1":24,"length2":28},{"diffs":[[0,"pdate;\r\n"],[1,"    "],[0,"\tthis.Re"]],"start1":996,"start2":996,"length1":16,"length2":20},{"diffs":[[0,"ender;\r\n"],[-1,"}\r\n\r\nfunction "],[1,"    }\r\n    \r\n    this."],[0,"Register"]],"start1":1024,"start2":1024,"length1":30,"length2":38},{"diffs":[[0,"egisterComponent"],[1," = function"],[0,"(componentName, "]],"start1":1055,"start2":1055,"length1":32,"length2":43},{"diffs":[[0,"ata) {\r\n"],[-1,"\t"],[1,"    \tengine."],[0,"Componen"]],"start1":1138,"start2":1138,"length1":17,"length2":28},{"diffs":[[0,"e] = {\r\n"],[1,"    "],[0,"\t\tCompon"]],"start1":1181,"start2":1181,"length1":16,"length2":20},{"diffs":[[0,"tName,\r\n"],[1,"    "],[0,"\t\tMethod"]],"start1":1219,"start2":1219,"length1":16,"length2":20},{"diffs":[[0,"onent,\r\n"],[1,"    "],[0,"\t\tRequir"]],"start1":1247,"start2":1247,"length1":16,"length2":20},{"diffs":[[0,"nents,\r\n"],[1,"    "],[0,"\t\tRequir"]],"start1":1295,"start2":1295,"length1":16,"length2":20},{"diffs":[[0,"ta\r\n"],[1,"    "],[0,"\t};\r\n"],[-1,"}\r\n\r\nfunction "],[1,"    }\r\n    \r\n    this."],[0,"AddC"]],"start1":1334,"start2":1334,"length1":27,"length2":39},{"diffs":[[0,"his.AddComponent"],[1," = function"],[0,"(entity, compone"]],"start1":1365,"start2":1365,"length1":32,"length2":43},{"diffs":[[0,"entName) {\r\n"],[1,"    "],[0,"\tvar compone"]],"start1":1407,"start2":1407,"length1":24,"length2":28},{"diffs":[[0,"onent = "],[1,"engine."],[0,"Componen"]],"start1":1432,"start2":1432,"length1":16,"length2":23},{"diffs":[[0,"Name];\r\n"],[1,"    "],[0,"\tvar req"]],"start1":1467,"start2":1467,"length1":16,"length2":20},{"diffs":[[0,"dData;\r\n"],[1,"    "],[0,"\tvar req"]],"start1":1516,"start2":1516,"length1":16,"length2":20},{"diffs":[[0,"onent;\r\n"],[-1,"\t\r\n"],[1,"    \t\r\n    "],[0,"\tif (!(c"]],"start1":1576,"start2":1576,"length1":19,"length2":27},{"diffs":[[0,"ts)) {\r\n"],[1,"    "],[0,"\t\tentity"]],"start1":1634,"start2":1634,"length1":16,"length2":20},{"diffs":[[0,"Name] = "],[1,"engine."],[0,"Componen"]],"start1":1675,"start2":1675,"length1":16,"length2":23},{"diffs":[[0,"Name];\r\n"],[1,"    "],[0,"\t\tentity"]],"start1":1710,"start2":1710,"length1":16,"length2":20},{"diffs":[[0,"ts.push("],[1,"engine."],[0,"Componen"]],"start1":1745,"start2":1745,"length1":16,"length2":23},{"diffs":[[0,"ame]);\r\n"],[-1,"\t}\r\n\t\r\n"],[1,"    \t}\r\n    \t\r\n    "],[0,"\tfor (va"]],"start1":1781,"start2":1781,"length1":23,"length2":35},{"diffs":[[0,"ponents) {\r\n"],[1,"    "],[0,"\t\tif (!(key "]],"start1":1846,"start2":1846,"length1":24,"length2":28},{"diffs":[[0,"ts)) {\r\n"],[-1,"\t\t\t"],[1,"    \t\t\tengine."],[0,"AddCompo"]],"start1":1892,"start2":1892,"length1":19,"length2":30},{"diffs":[[0,");\r\n"],[1,"    "],[0,"\t\t}\r\n"],[-1,"\t}\r\n\t\r\n"],[1,"    \t}\r\n    \t\r\n    "],[0,"\tfor"]],"start1":1938,"start2":1938,"length1":20,"length2":36},{"diffs":[[0,"redData) {\r\n"],[1,"    "],[0,"\t\tif (!(key "]],"start1":2002,"start2":2002,"length1":24,"length2":28},{"diffs":[[0,"as)) {\r\n"],[1,"    "],[0,"\t\t\tentit"]],"start1":2043,"start2":2043,"length1":16,"length2":20},{"diffs":[[0,"];\r\n"],[1,"    "],[0,"\t\t}\r\n"],[-1,"\t}\r\n}\r\n\r\nRegisterComponent('TestComponent',\r\n\tnew Component(function(entity, gameTime) {\r\n                        //assigned\r\n        \t\t\t\t},\r\n        \t\t\tfunction(entity, gameTime) {\r\n                        //removed\r\n        \t\t\t\t},\r\n        \t\t\tfunction(entity, gameTime) {\r\n                        //update\r\n"],[1,"    \t}\r\n    }\r\n    \r\n    //May have to make a CreateEntity function.\r\n    this.Entity = function(idToUse) {\r\n        var self = this;\r\n        \r\n        if (typeof idToUse == 'number') {\r\n            if (engine.Entities.Any(function(ent) { ent.Id == idToUse })) {\r\n                throw new Error(\"Tried to create an entity with an explicity Id that already existed! Entity in question: \" + idToUse);\r\n                return;\r\n    "],[0,"        "],[-1,"\t\t\t\t},"],[1,"}"],[0,"\r\n  "]],"start1":2104,"start2":2104,"length1":336,"length2":457},{"diffs":[[0,"    "],[1," "],[-1,"\t\t\tfunction(entity, gameTime) {\r\n                        //render\r\n        \t\t\t}),\r\n\t[],\r\n    []);\r\n\r\nfunction Entity() {\r\n\tvar self = this;\r\n\t"],[1,"   \r\n            this.Id = idToUse;\r\n        } else {\r\n            engine."],[0,"Next"]],"start1":2563,"start2":2563,"length1":150,"length2":83},{"diffs":[[0,"extFreeId = "],[1,"engine."],[0,"NextFreeId +"]],"start1":2643,"start2":2643,"length1":24,"length2":31},{"diffs":[[0,"d + 1;\r\n"],[-1,"\t"],[1,"            "],[0,"this.Id "]],"start1":2671,"start2":2671,"length1":17,"length2":28},{"diffs":[[0,"is.Id = "],[1,"engine."],[0,"NextFree"]],"start1":2693,"start2":2693,"length1":16,"length2":23},{"diffs":[[0,"tFreeId;"],[-1,"\r\n"],[1,"    \r\n        }\r\n        \r\n    "],[0,"\tthis.Da"]],"start1":2711,"start2":2711,"length1":18,"length2":47},{"diffs":[[0,"as = {\r\n"],[1,"    "],[0,"\t};\r\n"],[1,"    "],[0,"\tthis.Co"]],"start1":2759,"start2":2759,"length1":21,"length2":29},{"diffs":[[0,"ts = {\r\n"],[1,"    "],[0,"\t};\r\n   "]],"start1":2794,"start2":2794,"length1":16,"length2":20},{"diffs":[[0,"};\r\n    "],[-1,"\r\n"],[1,"    \r\n    "],[0,"\tthis.Up"]],"start1":2807,"start2":2807,"length1":18,"length2":26},{"diffs":[[0,"s = "],[-1,"new Array();\r\n\t\r\n"],[1,"[];\r\n    \t\r\n    "],[0,"    "]],"start1":2846,"start2":2846,"length1":25,"length2":24},{"diffs":[[0,"ame) {\r\n"],[1,"    "],[0,"\t\tif (!("]],"start1":2909,"start2":2909,"length1":16,"length2":20},{"diffs":[[0,"ts)) {\r\n"],[1,"    "],[0,"\t\t\t//rec"]],"start1":2959,"start2":2959,"length1":16,"length2":20},{"diffs":[[0," here.\r\n"],[1,"    "],[0,"\t\t\t//mak"]],"start1":3002,"start2":3002,"length1":16,"length2":20},{"diffs":[[0," well.\r\n"],[-1,"\t\t\t"],[1,"    \t\t\tengine."],[0,"AddCompo"]],"start1":3073,"start2":3073,"length1":19,"length2":30},{"diffs":[[0,"mponent("],[1,"this, "],[0,"componen"]],"start1":3100,"start2":3100,"length1":16,"length2":22},{"diffs":[[0,"nentName);\r\n"],[1,"    "],[0,"\t\t}\r\n"],[1,"    "],[0,"\t};\r\n    \r\n "]],"start1":3119,"start2":3119,"length1":29,"length2":37},{"diffs":[[0,"   \t};\r\n    "],[-1,"\r\n"],[1,"    \r\n  "],[0,"    "],[1,"  "],[0,"this.RemoveC"]],"start1":3141,"start2":3141,"length1":30,"length2":38},{"diffs":[[0," {\r\n        "],[1,"    "],[0,"if (componen"]],"start1":3213,"start2":3213,"length1":24,"length2":28},{"diffs":[[0,"entName in this."],[-1,"c"],[1,"C"],[0,"omponents) {\r\n  "]],"start1":3239,"start2":3239,"length1":33,"length2":33},{"diffs":[[0,"    "],[-1,"\r\n        }\r\n    };\r\n\t\r\n"],[1,"    delete this.Components[componentName];\r\n            }\r\n        };\r\n    \t\r\n    "],[0,"\tthi"]],"start1":3278,"start2":3278,"length1":32,"length2":90},{"diffs":[[0,"ime) {\r\n"],[1,"    "],[0,"\t\tvar i "]],"start1":3393,"start2":3393,"length1":16,"length2":20},{"diffs":[[0,"i = 0;\r\n"],[1,"    "],[0,"\t\tfor (i"]],"start1":3411,"start2":3411,"length1":16,"length2":20},{"diffs":[[0,"i++) {\r\n"],[1,"    "],[0,"\t\t\tthis."]],"start1":3471,"start2":3471,"length1":16,"length2":20},{"diffs":[[0,"ate("],[1,"self, "],[0,"gameTime"],[-1,", self"],[0,");\r\n"],[1,"    "],[0,"\t\t}\r\n"],[1,"    "],[0,"\t};\r\n"],[-1,"\t\r\n\t"],[1,"    \t\r\n    \tengine."],[0,"Enti"]],"start1":3514,"start2":3514,"length1":40,"length2":63},{"diffs":[[0,"s;\r\n"],[-1,"}\r\n\r\nvar ent = new Entity();\r\nalert(ent.test);\r\nalert(Entities[ent.Id].test"],[1,"        engine.EntityUpdateList.push(this);\r\n    }\r\n    \r\n    this.RemoveEntity = function(entityId) {\r\n        var entityToRemove = engine.Entities[entityId];\r\n        \r\n        if (entityToRemove === null) {\r\n            return;\r\n        }\r\n        \r\n        var indexOfEntity = engine.EntityUpdateList.indexOf(entityToRemove);\r\n        \r\n        if (indexOfEntity !=== -1) {\r\n            engine.EntityUpdateList.splice(indexOfEntity, 1);\r\n        }\r\n        \r\n        delete engine.Entities[entityId];\r\n    }\r\n    \r\n    this.Update = function(gameTime) {\r\n        var i;\r\n        for(i = 0; i < engine.EntityUpdateList.length; i++) {\r\n            engine.EntityUpdateList[i].Update(gameTime);\r\n            engine\r\n        }\r\n    }\r\n    \r\n    this.GameStart = (new Date()).getMilliseconds();\r\n    this.LastUpdateTime = this.GameStart;\r\n    \r\n    this.IntervalUpdateFunc = function() {\r\n        var currentTime = (new Date()).getMilliseconds();\r\n        \r\n        engine.Update(currentTime - engine.LastUpdateTime);\r\n        \r\n        engine.LastUpdateTime = currentTime;\r\n    }\r\n    \r\n    this.StartUpdating = function() {\r\n        engine.StopUpdating();\r\n        \r\n        engine.UpdateIntervalKey = setInterval(engine.IntervalUpdateFunc);\r\n    }\r\n    \r\n    this.StopUpdating = function() {\r\n        if (typeof engine.UpdateIntervalKey !== 'undefined') {\r\n            clearInterval(engine.UpdateIntervalKey);\r\n            delete engine.UpdateIntervalKey;\r\n        }\r\n    }\r\n}\r\n\r\nvar entitySystem = new JSEntitySystem();\r\n\r\nentitySystem.RegisterComponent('TestComponent',\r\n    new entitySystem.Component(function(entity, gameTime) {\r\n                        //assigned\r\n        \t\t\t\t},\r\n        \t\t\tfunction(entity, gameTime) {\r\n                        //removed\r\n        \t\t\t\t},\r\n        \t\t\tfunction(entity, gameTime) {\r\n                        //update\r\n        \t\t\t\t},\r\n        \t\t\tfunction(entity, gameTime) {\r\n                        //render\r\n        \t\t\t}),\r\n            \t[],\r\n                []);\r\n\r\nentitySystem.StartUpdating();\r\n\r\nvar ent = new entitySystem.Entity("],[0,");"]],"start1":3596,"start2":3596,"length1":81,"length2":2076}]],"length":5672,"saved":false}
{"ts":1344523643671,"patch":[[{"diffs":[[0,"  engine"],[1,"."],[0,"\r\n      "]],"start1":4306,"start2":4306,"length1":16,"length2":17}]],"length":5673,"saved":false}
{"ts":1344523655797,"patch":[[{"diffs":[[0,"        "],[-1,"engine."],[1,"a"],[0,"\r\n      "]],"start1":4300,"start2":4300,"length1":23,"length2":17}]],"length":5667,"saved":false}
{"ts":1344523656944,"patch":[[{"diffs":[[0,"        "],[-1,"a"],[1,"en"],[0,"\r\n      "]],"start1":4300,"start2":4300,"length1":17,"length2":18}]],"length":5668,"saved":false}
{"ts":1344523658953,"patch":[[{"diffs":[[0,"       e"],[-1,"n"],[0,"\r\n      "]],"start1":4301,"start2":4301,"length1":17,"length2":16}]],"length":5667,"saved":false}
{"ts":1344523660728,"patch":[[{"diffs":[[0,"       e"],[1,"ngine."],[0,"\r\n      "]],"start1":4301,"start2":4301,"length1":16,"length2":22}]],"length":5673,"saved":false}
{"ts":1344523661408,"patch":[[{"diffs":[[0,"     engine."],[1,"a"],[0,"\r\n        }\r"]],"start1":4303,"start2":4303,"length1":24,"length2":25}]],"length":5674,"saved":false}
{"ts":1344523662333,"patch":[[{"diffs":[[0,"engine.a"],[1,"dd"],[0,"\r\n      "]],"start1":4308,"start2":4308,"length1":16,"length2":18}]],"length":5676,"saved":false}
{"ts":1344523663734,"patch":[[{"diffs":[[0," engine."],[-1,"add"],[1,"A"],[0,"\r\n      "]],"start1":4307,"start2":4307,"length1":19,"length2":17}]],"length":5674,"saved":false}
{"ts":1344523664859,"patch":[[{"diffs":[[0,"engine.A"],[1,"dd"],[0,"\r\n      "]],"start1":4308,"start2":4308,"length1":16,"length2":18}]],"length":5676,"saved":false}
{"ts":1344523666096,"patch":[[{"diffs":[[0,"engine.A"],[-1,"dd"],[0,"\r\n      "]],"start1":4308,"start2":4308,"length1":18,"length2":16}]],"length":5674,"saved":false}
{"ts":1344523669623,"patch":[[{"diffs":[[0," engine."],[-1,"A"],[0,"\r\n      "]],"start1":4307,"start2":4307,"length1":17,"length2":16}]],"length":5673,"saved":false}
{"ts":1344523676608,"patch":[[{"diffs":[[0,"     engine."],[1,"add"],[0,"\r\n        }\r"]],"start1":4303,"start2":4303,"length1":24,"length2":27}]],"length":5676,"saved":false}
{"ts":1344523680820,"patch":[[{"diffs":[[0," engine."],[-1,"a"],[1,"A"],[0,"dd"],[1,"Component()"],[0,"\r\n      "]],"start1":4307,"start2":4307,"length1":19,"length2":30}]],"length":5687,"saved":false}
{"ts":1344523687990,"patch":[[{"diffs":[[0,"omponent"],[-1,"()"],[0,"\r\n      "]],"start1":4319,"start2":4319,"length1":18,"length2":16}]],"length":5685,"saved":false}
{"ts":1344523690034,"patch":[[{"diffs":[[0,");\r\n"],[-1,"            engine.AddComponent\r\n"],[0,"    "]],"start1":4292,"start2":4292,"length1":41,"length2":8}]],"length":5652,"saved":false}
